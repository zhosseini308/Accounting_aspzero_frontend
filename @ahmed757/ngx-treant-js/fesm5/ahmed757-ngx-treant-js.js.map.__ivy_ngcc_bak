{"version":3,"file":"ahmed757-ngx-treant-js.js","sources":["ng://@ahmed757/ngx-treant-js/lib/ngx-treant-js.component.ts","ng://@ahmed757/ngx-treant-js/lib/ngx-treant-js.module.ts","ng://@ahmed757/ngx-treant-js/public-api.ts","ng://@ahmed757/ngx-treant-js/ahmed757-ngx-treant-js.ts"],"sourcesContent":["import { Component, AfterViewInit, Input, Output, EventEmitter } from '@angular/core';\n\ndeclare const Treant: any;\ndeclare const $: any;\n\n/**\n * A simple Angular2+ component used as a wrapper for [TreantJS](https://fperucic.github.io/treant-js/) library\n * for visualization of tree (chart) diagrams, with additional functionality.\n */\n@Component({\n    selector: 'ngx-treant-chart',\n    templateUrl: './ngx-treant-js.component.html',\n})\nexport class NgxTreantJsComponent implements AfterViewInit {\n    @Input() chartId: string;\n    @Input() chartClass: string;\n\n    @Input() data: any;\n    @Input() popoverSettings: any;\n    @Input() mouseleaveMilliseconds: number;\n    @Input() isDraggable: boolean;\n    @Input() textProps: any;\n\n    @Output() clicked: EventEmitter<any> = new EventEmitter();\n    @Output() hovered: EventEmitter<any> = new EventEmitter();\n    @Output() dragged: EventEmitter<any> = new EventEmitter();\n    @Output() dropped: EventEmitter<any> = new EventEmitter();\n    @Output() updated: EventEmitter<any> = new EventEmitter();\n\n    @Output() loadedNodes: EventEmitter<any> = new EventEmitter();\n    @Output() loadedTreant: EventEmitter<any> = new EventEmitter();\n    @Output() loadedTree: EventEmitter<any> = new EventEmitter();\n\n    constructor() {}\n\n    ngAfterViewInit(): void {\n        const callback = (callback: any) => {\n            let popoverElm1;\n            let popoverElm2;\n            let timeout;\n            let draggedNode;\n            let droppedNode;\n\n            const __this = this;\n\n            // add ids to nodeDOMs\n            for (let i = 0; i < callback.nodeDB.db.length; i++) {\n                callback.nodeDB.db[i].nodeDOM.id = callback.nodeDB.db[i].id;\n            }\n\n            this.loadedTree.emit(callback);\n\n            const $oNodes = $(`#${this.chartId} .node`);\n\n            // add support for drag and drop functionality\n            const addDragAndDropSupport = () => {\n                for (let i = 0; i < $oNodes.length; i++) {\n                    $oNodes[i].draggable = true;\n                    $oNodes[i].classList.add('drop');\n                    $oNodes[i].addEventListener('dragstart', drag, false);\n                    $oNodes[i].addEventListener('drop', drop, false);\n                    $oNodes[i].addEventListener('dragover', allowDrop, false);\n                }\n            };\n\n            // swap nodes after drag and drop\n            function swapNodes(nodes, dragIndex, dropIndex) {\n                const temp = nodes[dragIndex];\n                const dragClone = { ...temp };\n                const dropClone = { ...nodes[dropIndex] };\n\n                nodes[dragIndex] = nodes[dropIndex];\n                nodes[dropIndex] = temp;\n\n                // set dragged node props\n                nodes[dragIndex].id = dragClone.id;\n                nodes[dragIndex].nodeDOM.id = dragClone.id;\n                nodes[dragIndex].parentId = dragClone.parentId;\n                nodes[dragIndex].children = dragClone.children;\n                nodes[dragIndex].connStyle = dragClone.connStyle;\n                nodes[dragIndex].stackChildren = dragClone.stackChildren;\n                nodes[dragIndex].stackParentId = dragClone.stackParentId;\n                nodes[dragIndex].stackParent = dragClone.stackParent;\n                nodes[dragIndex].leftNeighborId = dragClone.leftNeighborId;\n                nodes[dragIndex].rightNeighborId = dragClone.rightNeighborId;\n                nodes[dragIndex].collapsed = dragClone.collapsed;\n                nodes[dragIndex].collapsable = dragClone.collapsable;\n\n                // set dropped node props\n                nodes[dropIndex].id = dropClone.id;\n                nodes[dropIndex].nodeDOM.id = dropClone.id;\n                nodes[dropIndex].parentId = dropClone.parentId;\n                nodes[dropIndex].children = dropClone.children;\n                nodes[dropIndex].connStyle = dropClone.connStyle;\n                nodes[dropIndex].stackChildren = dropClone.stackChildren;\n                nodes[dropIndex].stackParent = dropClone.stackParent;\n                nodes[dropIndex].stackParentId = dropClone.stackParentId;\n                nodes[dropIndex].leftNeighborId = dropClone.leftNeighborId;\n                nodes[dropIndex].rightNeighborId = dropClone.rightNeighborId;\n                nodes[dropIndex].collapsed = dropClone.collapsed;\n                nodes[dropIndex].collapsable = dropClone.collapsable;\n            }\n\n            function hidePopover() {\n                $(popoverElm1).popover('hide');\n                $(popoverElm2).popover('hide');\n            }\n\n            function drag(event) {\n                draggedNode = callback.nodeDB.db.find((n) => n.id == $(this).attr('id'));\n\n                hidePopover();\n\n                __this.dragged.emit({ draggedNode, $ });\n            }\n\n            function drop(event) {\n                event.preventDefault();\n                droppedNode = callback.nodeDB.db.find((n) => n.id == $(this).attr('id'));\n\n                hidePopover();\n\n                __this.dropped.emit({ draggedNode: droppedNode, droppedNode: draggedNode, $ });\n\n                const dragIndex = callback.nodeDB.db.findIndex((n) => n.id == draggedNode.id);\n                const dropIndex = callback.nodeDB.db.findIndex((n) => n.id == droppedNode.id);\n\n                swapNodes(callback.nodeDB.db, dragIndex, dropIndex);\n\n                callback.positionTree();\n            }\n\n            function allowDrop(event) {\n                event.preventDefault();\n            }\n\n            function updateTextVal(currentEle, value, classVal, node, propName) {\n                let isTextUpdated = false;\n\n                $(document).off('click');\n                $(currentEle).html(\n                    '<input class=\"input-field\" style=\"width:' +\n                        $(currentEle).width() +\n                        'px;\" type=\"text\" value=\"' +\n                        value +\n                        '\"/>'\n                );\n                $('.input-field').focus();\n                $('.input-field').keyup(function (event) {\n                    if (event.keyCode === 13) {\n                        const inputClass = $(event.target).attr('class');\n                        const newValue = $('.input-field').val() ? $('.input-field').val() : value;\n\n                        $(currentEle).html('<p class=\"' + classVal + '\">' + newValue + '</p>');\n                        if (inputClass === 'input-field') {\n                            isTextUpdated = true;\n                        }\n\n                        if (propName) {\n                            node.text[propName] = newValue;\n                            node.width = $(currentEle).width();\n                        }\n\n                        callback.positionTree();\n\n                        __this.updated.emit({ node, $ });\n                    }\n                });\n\n                $(document).click(function () {\n                    if ($(event.target).attr('class') !== 'input-field' && !isTextUpdated) {\n                        const newValue = $('.input-field').val() ? $('.input-field').val() : value;\n\n                        $(currentEle).html('<p class=\"' + classVal + '\">' + newValue + '</p>');\n                        $(document).off('click');\n\n                        if (propName) {\n                            node.text[propName] = newValue;\n                            node.width = $(currentEle).width();\n                        }\n\n                        callback.positionTree();\n\n                        __this.updated.emit({ node, $ });\n                    }\n                });\n            }\n\n            this.isDraggable && addDragAndDropSupport();\n\n            $oNodes.off('click').on('click', function (event) {\n                const node = callback.nodeDB.db.find((n) => n.id == $(this).attr('id'));\n\n                hidePopover();\n\n                __this.clicked.emit({ node, $ });\n            });\n\n            $oNodes.off('dblclick').on('dblclick', function (e) {\n                if ($(event.target).attr('class') !== 'input-field') {\n                    e.stopPropagation();\n                    const node = callback.nodeDB.db.find((n) => n.id == $(this).attr('id'));\n                    const currentEle = $(event.target);\n                    const value = $(event.target).text();\n                    const classVal = $(event.target).attr('class');\n                    const propName = classVal && classVal.split('-')[1];\n\n                    hidePopover();\n\n                    node.text &&\n                        node.text[propName] &&\n                        updateTextVal(currentEle, value, classVal, node, propName);\n                }\n            });\n\n            if (this.popoverSettings) {\n                $oNodes.popover(this.popoverSettings);\n                $oNodes\n                    .off('mouseenter')\n                    .on('mouseenter', function (e) {\n                        hidePopover();\n\n                        popoverElm1 = this;\n\n                        $(this).popover('show');\n\n                        const node = callback.nodeDB.db.find((n) => n.id == $(this).attr('id'));\n                        __this.hovered.emit({ node, $ });\n\n                        clearTimeout(timeout);\n\n                        $('.popover')\n                            .off('mouseleave')\n                            .on('mouseleave', function () {\n                                hidePopover();\n                            });\n                    })\n                    .off('mouseleave')\n                    .on('mouseleave', function (e) {\n                        let hovered = false;\n                        popoverElm2 = this;\n\n                        $('.popover').hover(\n                            function () {\n                                hovered = true;\n                            },\n                            function () {\n                                hovered = false;\n                            }\n                        );\n\n                        if (!$('.popover:hover').length) {\n                            timeout = setTimeout(() => {\n                                !hovered && hidePopover();\n                            }, __this.mouseleaveMilliseconds || 0);\n                        }\n                    });\n            }\n\n            // emit Tree nodes\n            this.loadedNodes.emit({ nodes: callback.nodeDB.db, $ });\n        };\n\n        // create Treant instance and add its container ID\n        // this instance can be useful to operate on the Tree\n        const treant = new Treant(this.data, callback, $);\n        treant.container_id = this.chartId;\n        this.loadedTreant.emit(treant);\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { NgxTreantJsComponent } from './ngx-treant-js.component';\n\n@NgModule({\n    declarations: [NgxTreantJsComponent],\n    imports: [],\n    exports: [NgxTreantJsComponent],\n})\nexport class NgxTreantJsModule {}\n","/*\n * Public API Surface of ngx-treant-js\n */\n\nexport * from './lib/ngx-treant-js.component';\nexport * from './lib/ngx-treant-js.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}